{
  "description": "Configuration pour le suivi des √©tapes de d√©marrage du container Docker du serveur ARK: Survival Ascended. Bas√© sur l'analyse du log 'docker.txt' fourni. Ce fichier d√©finit des patterns (mots-cl√©s ou expressions r√©guli√®res) √† rechercher dans le log pour afficher un statut clair √† l'utilisateur. Il couvre la phase de pr√©paration du container (t√©l√©chargements, installations via SteamCMD et Proton) jusqu'au lancement de la commande du serveur ARK. L'√©tape marqu√©e 'is_endpoint: true' signale la fin de cette phase de log.",
  "monitoring_stages": [
    {
      "stage_name": "SteamCMD Init",
      "description": "D√©tecte le d√©marrage de SteamCMD et la connexion r√©ussie aux serveurs Steam.",
      "type": "keyword",
      "pattern": "Connecting anonymously to Steam Public... OK",
      "display_message": "D√©marrage SteamCMD et Connexion..."
    },
    {
      "stage_name": "ARK Download Start",
      "description": "D√©tecte le d√©but du t√©l√©chargement des fichiers du serveur ARK.",
      "type": "keyword",
      "pattern": "Update state (0x61) downloading",
      "display_message": "D√©but du t√©l√©chargement ARK..."
    },
    {
      "stage_name": "ARK Download Progress",
      "description": "Capture le pourcentage de progression du t√©l√©chargement ARK.",
      "type": "regex",
      "pattern": "Update state \\(0x61\\) downloading, progress: (\\d+\\.\\d+)",
      "capture_group": 1,
      "display_message": "T√©l√©chargement ARK : {value}%"
    },
    {
      "stage_name": "ARK Download Complete",
      "description": "D√©tecte sp√©cifiquement l'atteinte des 100% du t√©l√©chargement ARK.",
      "type": "regex",
      "pattern": "downloading, progress: 100\\.00",
      "display_message": "T√©l√©chargement ARK : 100%"
    },
    {
      "stage_name": "ARK Verification Start",
      "description": "D√©tecte le d√©but de la phase de v√©rification des fichiers ARK.",
      "type": "keyword",
      "pattern": "Update state (0x81) verifying update",
      "display_message": "V√©rification des fichiers ARK..."
    },
    {
      "stage_name": "ARK Verification Progress",
      "description": "Capture le pourcentage de progression de la v√©rification ARK.",
      "type": "regex",
      "pattern": "Update state \\(0x81\\) verifying update, progress: (\\d+\\.\\d+)",
      "capture_group": 1,
      "display_message": "V√©rification ARK : {value}%"
    },
    {
      "stage_name": "ARK Install OK",
      "description": "Confirme la fin r√©ussie de l'installation/v√©rification d'ARK.",
      "type": "regex",
      "pattern": "Success! App '.*' fully installed.",
      "display_message": "Installation ARK termin√©e ! ‚úÖ"
    },
    {
      "stage_name": "Proton Download Start",
      "description": "D√©tecte le d√©but du t√©l√©chargement de Proton GE.",
      "type": "keyword",
      "pattern": "Downloading Proton version",
      "display_message": "T√©l√©chargement de Proton GE..."
    },
    {
      "stage_name": "Proton Download Progress",
      "description": "Capture le pourcentage de progression du t√©l√©chargement Proton (via sortie wget/curl).",
      "type": "regex",
      "pattern": "(\\d+)%\\s*\\[=*>\\]",
      "capture_group": 1,
      "display_message": "T√©l√©chargement Proton : {value}%"
    },
    {
      "stage_name": "Proton Download OK",
      "description": "Confirme la fin r√©ussie du t√©l√©chargement Proton et la validation du checksum.",
      "type": "regex",
      "pattern": "saved \\[[^\\]]+\\] OK",
      "display_message": "T√©l√©chargement Proton termin√© ! ‚úÖ"
    },
    {
      "stage_name": "Proton Setup",
      "description": "D√©tecte le d√©but de la configuration du pr√©fixe Proton/Wine.",
      "type": "keyword",
      "pattern": "Upgrading prefix from",
      "display_message": "Configuration de Proton..."
    },
    {
      "stage_name": "ARK Server Launch Command",
      "description": "D√©tecte le moment o√π le script lance la commande de d√©marrage du serveur ARK.",
      "type": "keyword",
      "pattern": "Starting the ARK: Survival Ascended dedicated server...",
      "display_message": "Pr√©paration au lancement du serveur ARK..."
    },
    {
      "stage_name": "End Docker Stage / Handover",
      "description": "Marque la fin de la phase de log suivie ici (pr√©paration Docker) et le d√©but de la phase de d√©marrage du serveur ARK lui-m√™me (logs diff√©rents).",
      "type": "keyword",
      "pattern": "wine: RLIMIT_NICE is <= 20, unable to use setpriority safely",
      "display_message": "Fin de la phase Docker. Tentative de d√©marrage du serveur ARK (voir logs du jeu)... üöÄ",
      "is_endpoint": true
    }
  ]
}
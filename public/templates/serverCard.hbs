{{#if isFirstInCluster}}
    <div class="col-12">
        <h2 class="text-center text-primary mt-3">Cluster: {{CLUSTER_ID}}</h2>
    </div>
    <div class="row">
{{/if}}

<div class="col-md-4 mb-4">
    <div class="card server-card shadow-sm">
        <div class="card-header text-white bg-dark text-center">
            <h5 id="server-name-{{SERVER_NAME}}" class="mb-0 p-2 rounded">
                {{SERVER_NAME}} <span id="status-hidden-{{SERVER_NAME}}" class="d-none"></span>
            </h5>
        </div>
        <div class="card-body text-center">
            <div class="mt-3">
                <small>CPU: <span id="cpu-{{SERVER_NAME}}" class="text-info">N/A</span>%</small><br>
                <small>Memory: <span id="memory-{{SERVER_NAME}}" class="text-warning">N/A</span> GB</small>
            </div>
            <div class="mt-3">
                <small>Players: <span id="players-{{SERVER_NAME}}" class="text-primary">0</span></small>
            </div>
            <div class="mt-3">
                <button class="btn btn-success btn-sm btn-start" data-server="{{SERVER_NAME}}">
                    <i class="fas fa-play"></i> Start
                </button>
                <button class="btn btn-danger btn-sm btn-stop" data-server="{{SERVER_NAME}}">
                    <i class="fas fa-stop"></i> Stop
                </button>
                <button class="btn btn-warning btn-sm btn-restart" data-server="{{SERVER_NAME}}">
                    <i class="fas fa-sync-alt"></i> Restart
                </button>
            </div>
        </div>
        <div class="card-footer bg-light">
            <ul class="nav nav-tabs" id="chartTabs-{{SERVER_NAME}}" role="tablist">
                <li class="nav-item">
                    <button class="nav-link {{#unless ENABLED}}active{{/unless}}" data-bs-toggle="tab" data-bs-target="#info-{{SERVER_NAME}}">
                        Info
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-link {{#if ENABLED}}active{{/if}}" data-bs-toggle="tab" data-bs-target="#actions-{{SERVER_NAME}}">
                        Actions
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-link" data-bs-toggle="tab" data-bs-target="#memory-{{SERVER_NAME}}">
                        Memory
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-link" data-bs-toggle="tab" data-bs-target="#cpu-{{SERVER_NAME}}">
                        CPU
                    </button>
                </li>
            </ul>
            <div class="tab-content mt-2">
                <div class="tab-pane fade {{#if ENABLED}}show active{{/if}}" id="actions-{{SERVER_NAME}}">
                    <p>Actions log will be displayed here.</p>
                </div>
                <div class="tab-pane fade" id="memory-{{SERVER_NAME}}">
                    <p>Memory usage: <span id="memory-usage-{{SERVER_NAME}}">0MB</span></p>
                </div>
                <div class="tab-pane fade" id="cpu-{{SERVER_NAME}}">
                    <p>CPU usage: <span id="cpu-usage-{{SERVER_NAME}}">0%</span></p>
                </div>
                <div class="tab-pane fade {{#unless ENABLED}}show active{{/unless}} p-2" id="info-{{SERVER_NAME}}">
                    <ul class="list-group">
                        <li class="list-group-item"><strong>Map:</strong> {{MAP_NAME}}</li>
                        <li class="list-group-item"><strong>Mods:</strong> {{MODS}}</li>
                        <li class="list-group-item"><strong>Port:</strong> {{PORT}}</li>
                        <li class="list-group-item"><strong>RCON Port:</strong> {{RCON_PORT}}</li>
                        <li class="list-group-item"><strong>Max Players:</strong> {{MAX_PLAYERS}}</li>
                        <li class="list-group-item"><strong>Cluster ID:</strong> {{CLUSTER_ID}}</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

{{#if isLastInCluster}}
    </div> <!-- Fermeture de la row -->
{{/if}}
